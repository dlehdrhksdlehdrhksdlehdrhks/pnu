<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지구 온난화 데이터 분석 보고서 (2020-2024)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #FAFAFA; /* Off-white background */
            color: #263238; /* Dark Blue Grey text */
        }
        
        /* Chart Container Styling - MANDATORY Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Max width to prevent stretching */
            height: 350px;    /* Default height */
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Responsive adjustments for chart height */
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Material Design Cards */
        .card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Gradient Text */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(to right, #FF5252, #FF9800);
        }
    </style>
    <!-- 
        Selected Palette: "Modern Magma" (Vibrant & Alert)
        Primary (Red): #FF5252
        Secondary (Orange): #FF9800
        Accent (Yellow): #FFD740
        Dark (Charcoal): #263238
        Background: #FAFAFA
        
        Source Material Analysis:
        The report highlights a correlation between rising GHG (CO2, CH4) and Temperature.
        Key Event: 1.0C jump between 2022-2023.
        Narrative Structure:
        1. Hook: The Acceleration (Summary Stats)
        2. Cause: GHG Trends (Line Charts)
        3. Effect: Temperature Spike (Area Chart)
        4. Proof: Correlation (Scatter Plot)
        5. Data: Summary Table
        
        NO SVG used. NO Mermaid JS used.
    -->
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto space-y-12">

        <!-- Header Section -->
        <header class="text-center py-10 space-y-4">
            <h1 class="text-4xl md:text-6xl font-black tracking-tight text-gray-900">
                지구 온난화 가속화: <br class="md:hidden">
                <span class="text-gradient">지난 5년의 기록</span>
            </h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                2020년부터 2024년까지, 이산화탄소와 메탄 농도의 증가는 지구 평균 기온의 급격한 상승을 이끌었습니다. 
                특히 2023년의 기온 폭등은 기후 위기가 새로운 국면에 접어들었음을 시사합니다.
            </p>
        </header>

        <!-- KPI Section (Inform) -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="card p-6 text-center border-t-4 border-[#FF5252]">
                <h3 class="text-gray-500 font-bold uppercase text-sm tracking-wider">평균 기온 상승</h3>
                <div class="text-5xl font-black text-[#FF5252] mt-2">+1.3°C</div>
                <p class="text-sm text-gray-400 mt-2">2020년 대비 2024년 변화</p>
            </div>
            <div class="card p-6 text-center border-t-4 border-[#FF9800]">
                <h3 class="text-gray-500 font-bold uppercase text-sm tracking-wider">이산화탄소(CO2) 증가</h3>
                <div class="text-5xl font-black text-[#FF9800] mt-2">+2.5%</div>
                <p class="text-sm text-gray-400 mt-2">417.6ppm &rarr; 428.0ppm</p>
            </div>
            <div class="card p-6 text-center border-t-4 border-[#FFD740]">
                <h3 class="text-gray-500 font-bold uppercase text-sm tracking-wider">메탄(CH4) 증가</h3>
                <div class="text-5xl font-black text-[#FFD740] mt-2">+50ppb</div>
                <p class="text-sm text-gray-400 mt-2">1,972ppb &rarr; 2,022ppb</p>
            </div>
        </section>

        <!-- Section 1: The Driver - Greenhouse Gases (Change) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
            <div class="space-y-4">
                <h2 class="text-3xl font-bold text-gray-800 border-l-4 border-[#FF9800] pl-4">보이지 않는 위협: 온실가스 농도</h2>
                <p class="text-lg text-gray-600 leading-relaxed">
                    이산화탄소(CO2)는 매년 평균 약 2.6ppm씩 꾸준히 상승하고 있습니다. 
                    더욱 강력한 온실가스인 메탄(CH4) 역시 2022년 이후 상승폭이 두드러지며, 
                    지구의 열을 가두는 담요 역할을 더욱 강화하고 있습니다.
                </p>
                <div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
                    <strong class="text-[#FF9800]">Key Insight:</strong> 
                    두 지표 모두 5년 만에 약 2.5% 증가하며 멈추지 않는 상승세를 보입니다.
                </div>
            </div>
            
            <div class="card p-6">
                <h3 class="text-xl font-bold mb-4 text-center">연도별 온실가스 농도 변화 추이</h3>
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="ghgChart"></canvas>
                </div>
                <p class="text-xs text-center text-gray-400 mt-2">*좌측 축: CO2 (ppm), 우측 축: 메탄 (ppb)</p>
            </div>
        </section>

        <!-- Section 2: The Impact - Temperature Rise (Change) -->
        <section class="card p-8 bg-gradient-to-br from-red-50 to-white">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="order-2 md:order-1">
                    <!-- Chart Container -->
                    <div class="chart-container">
                        <canvas id="tempChart"></canvas>
                    </div>
                </div>
                <div class="order-1 md:order-2 space-y-4">
                    <h2 class="text-3xl font-bold text-gray-800 border-l-4 border-[#FF5252] pl-4">2023년의 경고: 기온 급등</h2>
                    <p class="text-lg text-gray-600 leading-relaxed">
                        2020년 13.4°C에서 시작된 기온은 완만한 상승세를 보이다가, 
                        <span class="font-bold text-[#FF5252]">2022년에서 2023년 사이 무려 1.0°C가 폭등</span>했습니다.
                        이는 단순한 자연 변동을 넘어선 이상 기후 징후로, 온난화가 가속화 단계에 진입했음을 시사합니다.
                    </p>
                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                        <li><strong>2020년:</strong> 13.4°C</li>
                        <li><strong>2022년:</strong> 13.6°C (완만한 상승)</li>
                        <li><strong>2024년:</strong> 14.7°C (최고치 경신)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 3: The Connection - Correlation (Relationship) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="space-y-4">
                <h2 class="text-3xl font-bold text-gray-800 border-l-4 border-[#263238] pl-4">원인과 결과: 상관관계 분석</h2>
                <p class="text-lg text-gray-600 leading-relaxed">
                    데이터는 명확한 진실을 보여줍니다. 대기 중 이산화탄소 농도가 짙어질수록, 지구의 평균 기온은 비례하여 상승합니다.
                    이 산점도는 두 변수 간의 강력한 양의 상관관계를 시각적으로 증명합니다.
                </p>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <p class="text-sm text-gray-600">
                        <strong>차트 해석:</strong> 점들이 오른쪽 위를 향해 직선에 가깝게 배열될수록, 두 데이터 간의 연관성이 높음을 의미합니다.
                    </p>
                </div>
            </div>
            
            <div class="card p-6">
                <h3 class="text-xl font-bold mb-4 text-center">이산화탄소 농도와 기온의 상관관계</h3>
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="correlationChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Section 4: Data Summary (Organize) -->
        <section class="space-y-6">
            <h2 class="text-3xl font-bold text-center text-gray-800">연도별 종합 데이터 요약</h2>
            <div class="overflow-x-auto card">
                <table class="min-w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-4">연도</th>
                            <th scope="col" class="px-6 py-4 text-[#FF9800]">이산화탄소 (ppm)</th>
                            <th scope="col" class="px-6 py-4 text-[#FFD740]">메탄 (ppb)</th>
                            <th scope="col" class="px-6 py-4 text-[#FF5252]">평균 기온 (°C)</th>
                            <th scope="col" class="px-6 py-4">비고</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="bg-white border-b hover:bg-gray-50">
                            <td class="px-6 py-4 font-bold">2020</td>
                            <td class="px-6 py-4">417.6</td>
                            <td class="px-6 py-4">1,972</td>
                            <td class="px-6 py-4">13.4</td>
                            <td class="px-6 py-4">기준점</td>
                        </tr>
                        <tr class="bg-white border-b hover:bg-gray-50">
                            <td class="px-6 py-4 font-bold">2021</td>
                            <td class="px-6 py-4">421.4</td>
                            <td class="px-6 py-4">1,988</td>
                            <td class="px-6 py-4">13.5</td>
                            <td class="px-6 py-4">-</td>
                        </tr>
                        <tr class="bg-white border-b hover:bg-gray-50">
                            <td class="px-6 py-4 font-bold">2022</td>
                            <td class="px-6 py-4">422.8</td>
                            <td class="px-6 py-4">2,004</td>
                            <td class="px-6 py-4">13.6</td>
                            <td class="px-6 py-4">완만한 상승</td>
                        </tr>
                        <tr class="bg-red-50 border-b hover:bg-red-100">
                            <td class="px-6 py-4 font-bold text-red-700">2023</td>
                            <td class="px-6 py-4 font-bold">425.6</td>
                            <td class="px-6 py-4">2,010</td>
                            <td class="px-6 py-4 font-bold text-[#FF5252]">14.6</td>
                            <td class="px-6 py-4 font-bold text-red-600">기온 급등 구간 (+1.0°C)</td>
                        </tr>
                        <tr class="bg-white hover:bg-gray-50">
                            <td class="px-6 py-4 font-bold">2024</td>
                            <td class="px-6 py-4">428.0</td>
                            <td class="px-6 py-4">2,022</td>
                            <td class="px-6 py-4">14.7</td>
                            <td class="px-6 py-4">최고치 기록</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="text-center text-gray-400 py-8 text-sm border-t">
            <p>데이터 출처: 온난화 자료.csv (2020-2024 분석 보고서)</p>
            <p class="mt-2">Generated by Canvas Infographics</p>
        </footer>

    </div>

    <script>
        // Data Preparation
        // Source: 온난화 자료.csv
        const rawData = [
            { year: '2020', co2: 417.6, ch4: 1972, temp: 13.4 },
            { year: '2021', co2: 421.4, ch4: 1988, temp: 13.5 },
            { year: '2022', co2: 422.8, ch4: 2004, temp: 13.6 },
            { year: '2023', co2: 425.6, ch4: 2010, temp: 14.6 },
            { year: '2024', co2: 428.0, ch4: 2022, temp: 14.7 }
        ];

        const years = rawData.map(d => d.year);
        const co2Data = rawData.map(d => d.co2);
        const ch4Data = rawData.map(d => d.ch4);
        const tempData = rawData.map(d => d.temp);

        // Utility: Label Splitting for 16-char limit (Mandatory Requirement)
        function splitLabel(label) {
            if (typeof label !== 'string' || label.length <= 16) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + ' ' + words[i]).length <= 16) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // Apply splitLabel to years (though they are short, fulfilling logic)
        const processedLabels = years.map(splitLabel);

        // Mandatory Tooltip Configuration
        const commonTooltipOptions = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            },
            backgroundColor: 'rgba(33, 33, 33, 0.9)',
            titleFont: { family: "'Noto Sans KR', sans-serif", size: 14 },
            bodyFont: { family: "'Noto Sans KR', sans-serif", size: 13 },
            padding: 12,
            cornerRadius: 8
        };

        // Chart 1: GHG Trends (Dual Axis)
        const ctxGHG = document.getElementById('ghgChart').getContext('2d');
        new Chart(ctxGHG, {
            type: 'line',
            data: {
                labels: processedLabels,
                datasets: [
                    {
                        label: '이산화탄소 (CO2, ppm)',
                        data: co2Data,
                        borderColor: '#FF9800', // Orange
                        backgroundColor: '#FF9800',
                        yAxisID: 'y',
                        tension: 0.3,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    },
                    {
                        label: '메탄 (CH4, ppb)',
                        data: ch4Data,
                        borderColor: '#FFD740', // Yellow
                        backgroundColor: '#FFD740',
                        yAxisID: 'y1',
                        tension: 0.3,
                        borderDash: [5, 5], // Dashed to distinguish
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    tooltip: commonTooltipOptions,
                    legend: {
                        position: 'top',
                        labels: { font: { family: "'Noto Sans KR', sans-serif" } }
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: { display: true, text: 'CO2 (ppm)' },
                        grid: { display: false }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: { display: true, text: 'CH4 (ppb)' },
                        grid: { color: '#f0f0f0' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Chart 2: Temperature Rise (Area Chart)
        const ctxTemp = document.getElementById('tempChart').getContext('2d');
        
        // Create Gradient
        let gradientTemp = ctxTemp.createLinearGradient(0, 0, 0, 400);
        gradientTemp.addColorStop(0, 'rgba(255, 82, 82, 0.5)'); // Red top
        gradientTemp.addColorStop(1, 'rgba(255, 82, 82, 0.0)'); // Transparent bottom

        new Chart(ctxTemp, {
            type: 'line',
            data: {
                labels: processedLabels,
                datasets: [{
                    label: '지구 평균 기온 (°C)',
                    data: tempData,
                    borderColor: '#FF5252',
                    backgroundColor: gradientTemp,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#fff',
                    pointBorderColor: '#FF5252',
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    pointHoverRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipOptions,
                    legend: { display: false }
                },
                scales: {
                    y: {
                        min: 13.0, // Start slightly below min value for dramatic effect
                        max: 15.0,
                        title: { display: true, text: '섭씨온도 (°C)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Chart 3: Correlation Scatter Plot
        // Need to restructure data for scatter: {x: co2, y: temp}
        const scatterData = rawData.map(d => ({ x: d.co2, y: d.temp }));
        const scatterLabels = rawData.map(d => `${d.year}년`); // For tooltip

        const ctxCorr = document.getElementById('correlationChart').getContext('2d');
        new Chart(ctxCorr, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'CO2 vs 기온',
                    data: scatterData,
                    backgroundColor: '#263238', // Dark charcoal
                    borderColor: '#263238',
                    pointRadius: 6,
                    pointHoverRadius: 9
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                // Custom title for scatter to show Year
                                return scatterLabels[tooltipItems[0].dataIndex];
                            },
                            label: function(context) {
                                return `CO2: ${context.parsed.x}ppm, 기온: ${context.parsed.y}°C`;
                            }
                        },
                        backgroundColor: 'rgba(33, 33, 33, 0.9)',
                        titleFont: { family: "'Noto Sans KR', sans-serif", size: 14 },
                        bodyFont: { family: "'Noto Sans KR', sans-serif", size: 13 },
                        padding: 12,
                        cornerRadius: 8
                    },
                    legend: { display: false }
                },
                scales: {
                    x: {
                        title: { display: true, text: '이산화탄소 농도 (ppm)' },
                        type: 'linear',
                        position: 'bottom'
                    },
                    y: {
                        title: { display: true, text: '평균 기온 (°C)' },
                        min: 13.0,
                        max: 15.0
                    }
                }
            }
        });

    </script>
</body>
</html>
